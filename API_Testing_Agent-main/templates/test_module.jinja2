"""
Test module for {{ resource }} endpoints.

Auto-generated by API Testing Agent
"""

import pytest
import requests
from typing import Dict, Any


@pytest.fixture
def api_client(config):
    """API client fixture."""
    session = requests.Session()
    session.base_url = config.api_base_url
    session.timeout = config.api_timeout
    return session


@pytest.fixture
def auth_headers(config):
    """Authentication headers fixture."""
    return config.get_auth_headers()


class Test{{ resource.capitalize() }}:
    """Test cases for {{ resource }} endpoints."""
    
    {% for test_case in test_cases %}
    def {{ test_case.name }}(self, api_client, auth_headers):
        """
        {{ test_case.description }}
        
        Endpoint: {{ test_case.method }} {{ test_case.endpoint }}
        Expected Status: {{ test_case.expected_status }}
        Scenario: {{ test_case.scenario_type }}
        """
        # Setup
        url = f"{api_client.base_url}{{ test_case.endpoint }}"
        
        # Execute
        response = api_client.request(
            method="{{ test_case.method }}",
            url=url,
            headers=auth_headers,
        )
        
        # Assert
        assert response.status_code == {{ test_case.expected_status }}, \
            f"Expected {{ test_case.expected_status }}, got {response.status_code}"
        
        {% for assertion in test_case.assertions %}
        # {{ assertion }}
        {% endfor %}
    
    {% endfor %}
